# üìä –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ ZEDLY

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** –§–µ–≤—Ä–∞–ª—å 2026  
**–í–µ—Ä—Å–∏—è:** 1.0.0

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
2. [–û—Å–Ω–æ–≤–Ω—ã–µ –º–∏–Ω—É—Å—ã](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–º–∏–Ω—É—Å—ã)
3. [–ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](#–ø—Ä–æ–±–ª–µ–º—ã-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
4. [–ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](#–ø—Ä–æ–±–ª–µ–º—ã-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
5. [–ü—Ä–æ–±–ª–µ–º—ã –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞](#–ø—Ä–æ–±–ª–µ–º—ã-–∫–∞—á–µ—Å—Ç–≤–∞-–∫–æ–¥–∞)
6. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é](#—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-—É–ª—É—á—à–µ–Ω–∏—é)
7. [–ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è](#–ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π-–ø–ª–∞–Ω-—Ä–∞–∑–≤–∏—Ç–∏—è)

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
zedly-platform/
‚îú‚îÄ‚îÄ client/               (711 KB —Ñ–∞–π–ª app.js!)
‚îÇ   ‚îú‚îÄ‚îÄ app.js           (13,730 —Å—Ç—Ä–æ–∫ - –ú–û–ù–û–õ–ò–¢)
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ styles.css
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.js
‚îú‚îÄ‚îÄ server/              
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ server-mock.js    (2,817 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ db_schema.sql
‚îÇ   ‚îú‚îÄ‚îÄ create-tables.js
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ api/                 (—Å—Ç–∞—Ä–∞—è –ø–∞–ø–∫–∞, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
```

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

**Frontend:**
- Vite v5.4.21
- Vanilla JavaScript (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)
- Chart.js –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- CSS —Å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏ –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å–∞–º–∏

**Backend:**
- Express.js 4.18.2
- PostgreSQL 
- JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- Nodemailer –¥–ª—è –ø–∏—Å–µ–º
- express-rate-limit –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞
- helmet –¥–ª—è HTTP security headers

**DevOps:**
- Docker: –ù–ï–¢ ‚ùå
- CI/CD: –ù–ï–¢ ‚ùå
- –õ–æ–≥-–∞–≥—Ä–µ–≥–∞—Ü–∏—è: –ù–ï–¢ ‚ùå

---

## üî¥ –û–°–ù–û–í–ù–´–ï –ú–ò–ù–£–°–´

### 1. **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô: –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–µ—Å—å –∫–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ `app.js` (711 KB, 13,730 —Å—Ç—Ä–æ–∫)

```javascript
// app.js —Å–æ–¥–µ—Ä–∂–∏—Ç:
- 100+ —Ñ—É–Ω–∫—Ü–∏–π-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π (renderXxx)
- State management (store object)
- Router logic
- API calls
- Utilities
- Styling constants
- –í—Å–µ —Å–º–µ—à–∞–Ω–æ –≤–º–µ—Å—Ç–µ
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- üî¥ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ —Ñ—É–Ω–∫—Ü–∏—é/–ø–µ—Ä–µ–º–µ–Ω–Ω—É—é (–Ω—É–∂–Ω–æ —á–∏—Ç–∞—Ç—å 13K —Å—Ç—Ä–æ–∫)
- üî¥ –û—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- üî¥ –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- üî¥ –ú–µ–¥–ª–µ–Ω–Ω–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç IDE (Intellisense, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥)
- üî¥ –ù–µ–ª—å–∑—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–¥

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –û–ß–ï–ù–¨ –í–´–°–û–ö–ê–Ø (5/5)

---

### 2. **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô: –ù–µ—Ç —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ TypeScript**

**–ü—Ä–æ–±–ª–µ–º–∞:** Pure JavaScript –±–µ–∑ —Ç–∏–ø–æ–≤

```javascript
// –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è?
async function loadClassDetail(classId) { ... }

// –ö–∞–∫–∏–µ –ø–æ–ª—è —É student?
const student = await apiRequest(`/api/students/${id}`);
console.log(student.email); // –ï—Å—Ç—å –ª–∏ email? –¢–∏–ø –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- üî¥ –û—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤ –≤—ã—è–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- üî¥ –ù–µ—Ç –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤ IDE
- üî¥ –°–ª–æ–∂–Ω–µ–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å
- üî¥ –ë–æ–ª—å—à–µ runtime –æ—à–∏–±–æ–∫

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –í–´–°–û–ö–ê–Ø (4.5/5)

---

### 3. **–í–´–°–û–ö–ò–ô: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º**

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–∞–º–æ–¥–µ–ª—å–Ω—ã–π store –æ–±—ä–µ–∫—Ç –±–µ–∑ —Å–ª–æ–∂–Ω–æ–≥–æ state management

```javascript
// –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:
const store = {
  state: { ... },
  getState() { return this.state; },
  setState(newState) { ... }
};

// –ü—Ä–æ–±–ª–µ–º—ã:
// - –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π (undo/redo)
// - –ù–µ—Ç –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
// - –ù–µ—Ç middleware –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
// - –°–ª–æ–∂–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–æ–º
// - –ù–µ—Ç –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** Redux, Zustand, Pinia –∏–ª–∏ –ø–æ–¥–æ–±–Ω–æ–µ

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü† –í–´–°–û–ö–ê–Ø (4/5)

---

### 4. **–í–´–°–û–ö–ò–ô: –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –Ω–µ—Ç —Å–±–æ—Ä–∞ –æ—à–∏–±–æ–∫

```javascript
// –¢–µ–∫—É—â–µ–µ:
catch (error) {
  console.error('Error:', error);
  showAlert(lang === 'uz' ? '...' : '–û—à–∏–±–∫–∞', 'error');
}

// –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:
// - –°–±–æ—Ä –æ—à–∏–±–æ–∫ –≤ Sentry/LogRocket
// - –†–∞–∑–ª–∏—á–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫ (—Å–µ—Ç–µ–≤–∞—è vs –ª–æ–≥–∏–∫–∞)
// - Retry-–ª–æ–≥–∏–∫–∞ –¥–ª—è transient errors
// - Performance monitoring
// - User session tracking
```

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü† –í–´–°–û–ö–ê–Ø (4/5)

---

### 5. **–í–´–°–û–ö–ò–ô: –û–≥—Ä–æ–º–Ω—ã–π Bundle Size**

**–ü—Ä–æ–±–ª–µ–º–∞:** Frontend bundle 746 KB (–º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –Ω–µ —Å–∂–∞—Ç—ã–π)

```
dist/assets/index-Bk1dEi73.js   746.04 kB   gzip: 173.25 kB
```

**–ê–Ω–∞–ª–∏–∑:**
- Vite –≤—ã–¥–∞—ë—Ç warning –æ —Ä–∞–∑–º–µ—Ä–µ chunks > 500 KB
- –ù–µ—Ç code-splitting
- –ù–µ—Ç lazy loading –¥–ª—è view-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –í—Å—ë –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ page load

**–û–∂–∏–¥–∞–µ–º–æ–µ:** 200-300 KB (–¥–ª—è SPA)

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü† –í–´–°–û–ö–ê–Ø (4/5)

---

### 6. **–í–´–°–û–ö–ò–ô: –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤**

**–ü—Ä–æ–±–ª–µ–º–∞:** 0 —Ç–µ—Å—Ç–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ

```javascript
// –ù–µ—Ç:
- Unit tests (Jest, Vitest)
- Integration tests
- E2E tests (Cypress, Playwright)
- Test coverage
```

**–†–∏—Å–∫:** –õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å –∫–æ–¥ –∏ –Ω–∏–∫—Ç–æ –Ω–µ —É–∑–Ω–∞–µ—Ç –¥–æ production

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü† –í–´–°–û–ö–ê–Ø (4/5)

---

### 7. **–°–†–ï–î–ù–ò–ô: –ñ—ë—Å—Ç–∫–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ –∫ —Ä—É—Å—Å–∫–æ–º—É/—É–∑–±–µ–∫—Å–∫–æ–º—É —è–∑—ã–∫—É**

**–ü—Ä–æ–±–ª–µ–º–∞:** i18n —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ

```javascript
// –¢–µ–∫—É—â–µ–µ:
const lang = store.getState().language; // 'ru' –∏–ª–∏ 'uz'
${lang === 'uz' ? 'Qidirish' : '–ü–æ–∏—Å–∫'}

// –ü—Ä–æ–±–ª–µ–º—ã:
// - –°—Ç—Ä–æ–∫–∏ —Ä–∞—Å—Å–µ—è–Ω—ã –ø–æ –∫–æ–¥—É
// - –ù–µ—Ç —Ñ–∞–π–ª–æ–≤ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ (json/yaml)
// - –°–ª–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ—Ç–∏–π —è–∑—ã–∫
// - –ù–µ—Ç pluralization
// - –ù–µ—Ç context-aware translations
```

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –°–†–ï–î–ù–Ø–Ø (2/5) - —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ—É–¥–æ–±–Ω–æ

---

### 8. **–°–†–ï–î–ù–ò–ô: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç OpenAPI/Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

```javascript
// –ö–∞–∫–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç —É /api/classes/:classId?
// –ö–∞–∫–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è? –ö–∞–∫–∏–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫?
// –û—Ç–≤–µ—Ç–æ–≤ –Ω–µ—Ç - –Ω—É–∂–Ω–æ —á–∏—Ç–∞—Ç—å –∫–æ–¥

// –ï—Å—Ç—å —Ç–æ–ª—å–∫–æ:
// - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ
// - db.md —Å –¥–∏–∞–≥—Ä–∞–º–º–æ–π (–ø–æ–ª–µ–∑–Ω–æ!)
```

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üü° –°–†–ï–î–ù–Ø–Ø (3/5)

---

## üîí –ü–†–û–ë–õ–ï–ú–´ –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

### 1. **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô: CSP –æ—Ç–∫–ª—é—á–µ–Ω–∞**

```javascript
// server-mock.js, —Å—Ç—Ä–æ–∫–∞ 19-23
app.use(helmet({
  contentSecurityPolicy: false, // ‚ö†Ô∏è –û–¢–ö–õ–Æ–ß–ï–ù–ê –î–õ–Ø –ü–†–û–°–¢–û–¢–´
  crossOriginEmbedderPolicy: false
}));
```

**–†–∏—Å–∫:** –£—è–∑–≤–∏–º–æ—Å—Ç—å –∫ XSS –∞—Ç–∞–∫–∞–º

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```javascript
app.use(helmet({
  contentSecurityPolicy: {
    directives: {
      defaultSrc: ["'self'"],
      scriptSrc: ["'self'", "'unsafe-inline'"], // —É–±—Ä–∞—Ç—å unsafe-inline –∫–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–æ
      styleSrc: ["'self'", "'unsafe-inline'"],
    }
  }
}));
```

---

### 2. **–í–´–°–û–ö–ò–ô: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ frontend**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–ª–∏–µ–Ω—Ç –¥–æ–≤–µ—Ä—è–µ—Ç —Å–µ—Ä–≤–µ—Ä—É, –º–∞–ª–æ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ

```javascript
// –ù–µ—Ç:
- –í–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º—ã –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏ user input
- XSS protection
- CSRF tokens
```

---

### 3. **–í–´–°–û–ö–ò–ô: –ù–µ—Ç HTTPS –≤ dev-—Ä–µ–∂–∏–º–µ**

**–ü—Ä–æ–±–ª–µ–º–∞:** Tokens –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø–æ –Ω–µ–∑–∞—â–∏—â—ë–Ω–Ω–æ–º—É –∫–∞–Ω–∞–ª—É –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

```javascript
// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
app.use(express.json({ limit: '10kb' }));
app.use(compression());
app.use(corsOptions);
```

---

### 4. **–°–†–ï–î–ù–ò–ô: Rate limiting –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω**

**–ü—Ä–æ–±–ª–µ–º–∞:** Rate limit —Ç–æ–ª—å–∫–æ –Ω–∞ /api/auth/login

```javascript
// –¢–µ–∫—É—â–µ–µ:
const loginLimiter = rateLimit({
  windowMs: 15 * 60 * 1000,
  max: 5,
});
app.post('/api/auth/login', loginLimiter, ...);

// –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –¥–ª—è:
// - POST /api/users/register
// - POST /api/tests/:id/submit
// - –í—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö endpoints
```

---

### 5. **–°–†–ï–î–ù–ò–ô: SQL Injection —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã ‚úì, –Ω–æ –Ω—É–∂–Ω–∞ –±–æ–ª—å—à–µ –≤–∞–ª–∏–¥–∞—Ü–∏—è

```javascript
// –•–æ—Ä–æ—à–æ:
const { rows } = await pool.query('SELECT * FROM users WHERE id = $1', [userId]);

// –ù–æ –Ω—É–∂–Ω–æ:
- –í–∞–ª–∏–¥–∞—Ü–∏—è UUID —Ñ–æ—Ä–º–∞—Ç–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª–∏–Ω—ã —Å—Ç—Ä–æ–∫
- –í–∞–ª–∏–¥–∞—Ü–∏—è enum –∑–Ω–∞—á–µ–Ω–∏–π
```

---

### 6. **–í–´–°–û–ö–ò–ô: –ù–µ—Ç audit logging**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –∑–∞–ø–∏—Å–µ–π –æ –¥–µ–π—Å—Ç–≤–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```javascript
// –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ç–∞–±–ª–∏—Ü–∞ audit_logs:
// - –ö—Ç–æ —Å–æ–∑–¥–∞–ª/–∏–∑–º–µ–Ω–∏–ª/—É–¥–∞–ª–∏–ª —Ä–µ—Å—É—Ä—Å
// - –ö–æ–≥–¥–∞ –ø—Ä–æ–∏–∑–æ—à–ª–æ –¥–µ–π—Å—Ç–≤–∏–µ
// - –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å
// - IP –∞–¥—Ä–µ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
// - User agent
```

**–ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è compliance (GDPR, CCPA)**

---

## ‚ö° –ü–†–û–ë–õ–ï–ú–´ –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò

### 1. **–ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è**

```javascript
// –ö–∞–∂–¥—ã–π —Ä–∞–∑ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Å —Å–µ—Ä–≤–µ—Ä–∞:
GET /api/classes           // 50ms
GET /api/users             // 100ms
GET /api/subjects          // 50ms

// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
- HTTP Cache headers (Cache-Control, ETag)
- Service Worker –¥–ª—è offline
- IndexedDB –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- Redis –Ω–∞ –±—ç–∫–µ –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
```

---

### 2. **–ù–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏–∏**

```javascript
// –ï—Å–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ 10,000 —É—á–µ–Ω–∏–∫–æ–≤:
GET /api/users  // –ó–∞–≥—Ä—É–∂–∞–µ—Ç –í–°–ï 10,000 records –≤ –ø–∞–º—è—Ç–∏ + –ø–µ—Ä–µ–¥–∞—ë—Ç –ø–æ —Å–µ—Ç–∏
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```javascript
GET /api/users?page=1&limit=20  // –¢–æ–ª—å–∫–æ 20 –∑–∞–ø–∏—Å–µ–π
```

---

### 3. **–ù–µ—Ç –∏–Ω–¥–µ–∫—Å–æ–≤ –≤ –ë–î**

```sql
-- db_schema.sql –∏–º–µ–µ—Ç –±–∞–∑–æ–≤—ã–µ –∏–Ω–¥–µ–∫—Å—ã, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç:
CREATE INDEX idx_class_students_student_id ON class_students(student_id);
CREATE INDEX idx_test_results_user_id ON test_results(user_id);
CREATE INDEX idx_refresh_tokens_expires_at ON refresh_tokens(expires_at);
```

---

### 4. **–ù–µ—Ç compression**

```javascript
// –í Express –Ω–µ—Ç:
import compression from 'compression';
app.use(compression());

// –ú–æ–≥ –±—ã —Å–∂–∞—Ç—å bundle —Å 173 KB –¥–æ ~40 KB —Å gzip
```

---

### 5. **–ù–µ—Ç lazy loading –¥–ª—è images**

```html
<!-- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: -->
<img src="avatar.jpg" loading="lazy" />
```

---

## üíî –ü–†–û–ë–õ–ï–ú–´ –ö–ê–ß–ï–°–¢–í–ê –ö–û–î–ê

### 1. **–ù–∏–∑–∫–∞—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å –∫–æ–¥–∞**

```javascript
// –ú–Ω–æ–≥–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è:
// - renderTable() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
// - showModal() –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤–µ–∑–¥–µ
// - API error handling –æ–¥–∏–Ω–∞–∫–æ–≤ –≤–µ–∑–¥–µ
// - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è

// –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- Table component
- Modal component
- Form validation helper
- Alert component
```

---

### 2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏–∑–∞—Ü–∏–∏**

```javascript
// –í–º–µ—Å—Ç–æ:
function viewClassStudents(classId) {
  // 200+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ —Å HTML, —Å—Ç–∏–ª—è–º–∏, –ª–æ–≥–∏–∫–æ–π
}

// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
class StudentTable {
  constructor(data) { this.data = data; }
  render() { return `<table>...`; }
  onStudentDelete(id) { ... }
}
```

---

### 3. **–ü–ª–æ—Ö–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏**

```javascript
// router.navigate() –∏–∑–º–µ–Ω—è–µ—Ç state, –Ω–æ:
// - –ù–µ—Ç history API (back button –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
// - –ù–µ—Ç query parameters –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
// - –ù–µ—Ç deep linking

// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
window.history.pushState(state, title, url);
// + –æ–±—Ä–∞–±–æ—Ç–∫–∞ popstate event
```

---

### 4. **–ù–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è concerns**

```javascript
// app.js —Å–æ–¥–µ—Ä–∂–∏—Ç:
- Presentation layer (renderXxx)
- Business logic (calculateXxx)
- API layer (apiRequest)
- Data layer (store)
- Utils (formatDate, etc)

// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
app/
‚îú‚îÄ‚îÄ components/       # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ services/        # API calls
‚îú‚îÄ‚îÄ utils/           # Utilities
‚îú‚îÄ‚îÄ stores/          # State management
‚îî‚îÄ‚îÄ models/          # Data types/interfaces
```

---

### 5. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è**

```javascript
// Hardcoded –∑–Ω–∞—á–µ–Ω–∏—è –≤–µ–∑–¥–µ:
const API_BASE_URL = 'http://localhost:3000';  // –≥–¥–µ-—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å production?
const TOKEN_REFRESH_INTERVAL = 14 * 60 * 1000;
const LOGIN_ATTEMPT_LIMIT = 5;

// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
// config/
// ‚îú‚îÄ‚îÄ development.js
// ‚îú‚îÄ‚îÄ production.js
// ‚îî‚îÄ‚îÄ index.js (–≤—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω—ã–π)

const config = {
  apiUrl: process.env.VITE_API_URL || 'http://localhost:3000',
  refreshInterval: parseInt(process.env.VITE_REFRESH_INTERVAL) || 14 * 60 * 1000
};
```

---

### 6. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏**

```javascript
// Email –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ, –Ω–µ—Ç:
const EMAIL_REGEX = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
const PHONE_REGEX = /^\+?[\d\s\-()]{10,}$/;
const USERNAME_REGEX = /^[a-zA-Z0-9._-]{3,32}$/;
```

---

## üöÄ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –£–õ–£–ß–®–ï–ù–ò–Æ

### Phase 1: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ)

#### 1.1 –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ TypeScript

**–§–∞–π–ª:** `client/tsconfig.json`
```json
{
  "compilerOptions": {
    "target": "ES2020",
    "lib": ["ES2020", "DOM"],
    "module": "ESNext",
    "moduleResolution": "bundler",
    "strict": true,
    "declaration": true,
    "sourceMap": true
  }
}
```

**–§–∞–π–ª:** `client/app.ts`
```typescript
interface User {
  id: string;
  email: string;
  firstName: string;
  lastName: string;
  role: 'admin' | 'teacher' | 'student';
}

interface AuthResponse {
  success: boolean;
  data: {
    user: User;
    accessToken: string;
    refreshToken: string;
  };
}

async function login(username: string, password: string): Promise<AuthResponse> {
  // ...
}
```

**–í—ã–≥–æ–¥–∞:** -30% runtime errors, +50% dev speed –±–ª–∞–≥–æ–¥–∞—Ä—è IDE

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ—Å—Ç—å:** ‚è±Ô∏è 40 —á–∞—Å–æ–≤

---

#### 1.2 –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ app.js –Ω–∞ –º–æ–¥—É–ª–∏

**–¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
client/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.ts
‚îÇ   ‚îú‚îÄ‚îÄ router.ts
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ class.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.ts
‚îÇ   ‚îú‚îÄ‚îÄ store/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sync.ts
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ classes.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tests.ts
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Table.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Modal.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Form.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Alert.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Chart.ts
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginPage.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DashboardPage.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminPage.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ClassPage.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProfilePage.ts
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ date.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validation.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ format.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logger.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cache.ts
‚îÇ   ‚îú‚îÄ‚îÄ constants/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ colors.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ endpoints.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.ts
‚îÇ   ‚îî‚îÄ‚îÄ styles/
‚îÇ       ‚îú‚îÄ‚îÄ variables.css
‚îÇ       ‚îú‚îÄ‚îÄ components.css
‚îÇ       ‚îú‚îÄ‚îÄ layout.css
‚îÇ       ‚îî‚îÄ‚îÄ responsive.css
```

**–í—ã–≥–æ–¥–∞:** +200% dev speed, -50% time to fix bugs

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ—Å—Ç—å:** ‚è±Ô∏è 80 —á–∞—Å–æ–≤

---

#### 1.3 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π State Management

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** Zustand (–ª—ë–≥–∫–∏–π, no boilerplate)

```typescript
// store/index.ts
import { create } from 'zustand';
import { devtools } from 'zustand/middleware';

interface User {
  id: string;
  email: string;
  role: 'admin' | 'teacher' | 'student';
}

interface AppState {
  user: User | null;
  theme: 'light' | 'dark';
  language: 'ru' | 'uz';
  
  // Actions
  setUser: (user: User | null) => void;
  setTheme: (theme: 'light' | 'dark') => void;
  setLanguage: (lang: 'ru' | 'uz') => void;
  logout: () => void;
}

export const useStore = create<AppState>()(
  devtools((set) => ({
    user: null,
    theme: 'light',
    language: 'ru',
    
    setUser: (user) => set({ user }),
    setTheme: (theme) => set({ theme }),
    setLanguage: (lang) => set({ language: lang }),
    logout: () => set({ user: null }),
  }))
);
```

**–í—ã–≥–æ–¥–∞:** –õ—É—á—à–µ dev tools, –ø—Ä–æ—â–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å, –ª–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ—Å—Ç—å:** ‚è±Ô∏è 20 —á–∞—Å–æ–≤

---

### Phase 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 2.1 Unit —Ç–µ—Å—Ç—ã

```typescript
// utils/validation.test.ts
import { validateEmail, validatePassword } from './validation';

describe('Validation', () => {
  describe('validateEmail', () => {
    it('should accept valid emails', () => {
      expect(validateEmail('user@example.com')).toBe(true);
      expect(validateEmail('test.email@domain.co.uk')).toBe(true);
    });
    
    it('should reject invalid emails', () => {
      expect(validateEmail('invalid')).toBe(false);
      expect(validateEmail('@example.com')).toBe(false);
    });
  });
  
  describe('validatePassword', () => {
    it('should require at least 8 chars', () => {
      expect(validatePassword('short')).toBe(false);
      expect(validatePassword('longenough123')).toBe(true);
    });
  });
});
```

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** Vitest (–≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ Vite)

```json
{
  "scripts": {
    "test": "vitest",
    "test:ui": "vitest --ui",
    "test:coverage": "vitest --coverage"
  }
}
```

**–¶–µ–ª—å:** 60% code coverage –Ω–∞ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—É—Ç–∏ (auth, API, validation)

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ—Å—Ç—å:** ‚è±Ô∏è 60 —á–∞—Å–æ–≤

---

#### 2.2 E2E —Ç–µ—Å—Ç—ã

```typescript
// e2e/login.spec.ts
import { test, expect } from '@playwright/test';

test('user can login', async ({ page }) => {
  await page.goto('http://localhost:5173/login');
  await page.fill('input[name="username"]', 'student1');
  await page.fill('input[name="password"]', 'student123');
  await page.click('button:has-text("–í–æ–π—Ç–∏")');
  
  await expect(page).toHaveURL(/.*dashboard/);
  await expect(page.locator('h1')).toContainText('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å');
});
```

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** Playwright

**–¶–µ–ª—å:** –ü–æ–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ—Å—Ç—å:** ‚è±Ô∏è 40 —á–∞—Å–æ–≤

---

### Phase 3: Security

#### 3.1 –í–∫–ª—é—á–∏—Ç—å CSP

```javascript
app.use(helmet({
  contentSecurityPolicy: {
    directives: {
      defaultSrc: ["'self'"],
      scriptSrc: ["'self'"],
      styleSrc: ["'self'", "'unsafe-inline'"],
      imgSrc: ["'self'", 'data:', 'https:'],
      fontSrc: ["'self'", 'data:'],
      connectSrc: ["'self'", 'http://localhost:3000'],
    }
  },
  crossOriginEmbedderPolicy: true,
}));
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ—Å—Ç—å:** ‚è±Ô∏è 5 —á–∞—Å–æ–≤

---

#### 3.2 –î–æ–±–∞–≤–∏—Ç—å CSRF –∑–∞—â–∏—Ç—É

```typescript
import csrf from 'csurf';

app.use(csrf({ cookie: true }));
app.post('/api/classes', csrfProtection, auth, async (req, res) => {
  // ...
});
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ—Å—Ç—å:** ‚è±Ô∏è 10 —á–∞—Å–æ–≤

---

#### 3.3 Input validation middleware

```typescript
// middleware/validate.ts
const validateUserRegistration = (req, res, next) => {
  const { firstName, lastName, email, role } = req.body;
  
  const errors: Record<string, string> = {};
  
  if (!firstName?.trim() || firstName.length > 50) {
    errors.firstName = 'Invalid first name';
  }
  if (!lastName?.trim() || lastName.length > 50) {
    errors.lastName = 'Invalid last name';
  }
  if (!EMAIL_REGEX.test(email)) {
    errors.email = 'Invalid email';
  }
  if (!['admin', 'teacher', 'student'].includes(role)) {
    errors.role = 'Invalid role';
  }
  
  if (Object.keys(errors).length > 0) {
    return res.status(400).json({ success: false, errors });
  }
  
  next();
};

app.post('/api/users', validateUserRegistration, async (req, res) => {
  // ...
});
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ—Å—Ç—å:** ‚è±Ô∏è 15 —á–∞—Å–æ–≤

---

### Phase 4: Performance

#### 4.1 Code Splitting

```typescript
// router.ts
const routes = {
  '/': () => import('./pages/LoginPage'),
  '/dashboard': () => import('./pages/DashboardPage'),
  '/admin': () => import('./pages/AdminPage'),
  '/class': () => import('./pages/ClassPage'),
};

async function navigate(path: string) {
  const PageComponent = await routes[path]();
  render(new PageComponent());
}
```

**–í—ã–≥–æ–¥–∞:** Bundle size 746 KB ‚Üí 300-400 KB

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ—Å—Ç—å:** ‚è±Ô∏è 20 —á–∞—Å–æ–≤

---

#### 4.2 –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

```typescript
// utils/cache.ts
export class CacheManager {
  private cache = new Map<string, { data: any; expires: number }>();
  
  set(key: string, value: any, ttlMs = 5 * 60 * 1000) {
    this.cache.set(key, {
      data: value,
      expires: Date.now() + ttlMs
    });
  }
  
  get(key: string) {
    const item = this.cache.get(key);
    if (!item) return null;
    
    if (Date.now() > item.expires) {
      this.cache.delete(key);
      return null;
    }
    
    return item.data;
  }
}

// API usage:
const cacheManager = new CacheManager();

async function getClasses() {
  const cached = cacheManager.get('classes');
  if (cached) return cached;
  
  const data = await apiRequest('/api/classes');
  cacheManager.set('classes', data);
  return data;
}
```

**–í—ã–≥–æ–¥–∞:** -70% API calls –¥–ª—è repeated requests

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ—Å—Ç—å:** ‚è±Ô∏è 15 —á–∞—Å–æ–≤

---

#### 4.3 –î–æ–±–∞–≤–∏—Ç—å Service Worker

```typescript
// service-worker.ts
self.addEventListener('install', (event) => {
  event.waitUntil(
    caches.open('v1').then((cache) => {
      return cache.addAll([
        '/',
        '/index.html',
        '/assets/index.css',
        '/assets/index.js',
      ]);
    })
  );
});

self.addEventListener('fetch', (event) => {
  if (event.request.method === 'GET') {
    event.respondWith(
      caches.match(event.request).then((response) => {
        return response || fetch(event.request);
      })
    );
  }
});
```

**–í—ã–≥–æ–¥–∞:** Offline mode, faster repeat visits

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ—Å—Ç—å:** ‚è±Ô∏è 15 —á–∞—Å–æ–≤

---

#### 4.4 HTTP Compression

```javascript
import compression from 'compression';

app.use(compression({
  level: 6, // balance between compression ratio and speed
  threshold: 1024, // only compress responses larger than 1KB
}));
```

**–í—ã–≥–æ–¥–∞:** -60% bandwidth usage

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ—Å—Ç—å:** ‚è±Ô∏è 2 —á–∞—Å–æ–≤

---

### Phase 5: Logging & Monitoring

#### 5.1 Structured Logging

```typescript
// utils/logger.ts
export enum LogLevel {
  DEBUG = 'DEBUG',
  INFO = 'INFO',
  WARN = 'WARN',
  ERROR = 'ERROR',
}

export class Logger {
  static log(level: LogLevel, message: string, data?: any) {
    const timestamp = new Date().toISOString();
    const logEntry = {
      timestamp,
      level,
      message,
      data,
      userId: store.getState().user?.id,
      url: window.location.href,
    };
    
    console.log(JSON.stringify(logEntry));
    
    // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
    if (level === LogLevel.ERROR) {
      this.sendToServer(logEntry);
    }
  }
  
  static debug(msg: string, data?: any) { this.log(LogLevel.DEBUG, msg, data); }
  static info(msg: string, data?: any) { this.log(LogLevel.INFO, msg, data); }
  static warn(msg: string, data?: any) { this.log(LogLevel.WARN, msg, data); }
  static error(msg: string, data?: any) { this.log(LogLevel.ERROR, msg, data); }
}
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ—Å—Ç—å:** ‚è±Ô∏è 10 —á–∞—Å–æ–≤

---

#### 5.2 Error Boundary

```typescript
// components/ErrorBoundary.ts
export class ErrorBoundary {
  render(component: any) {
    try {
      return component.render();
    } catch (error) {
      Logger.error('Component render failed', { error, component: component.name });
      return `<div>Something went wrong. Please refresh the page.</div>`;
    }
  }
}
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ—Å—Ç—å:** ‚è±Ô∏è 5 —á–∞—Å–æ–≤

---

### Phase 6: Documentation

#### 6.1 API Documentation (Swagger)

```javascript
// server/swagger.config.js
export const swaggerOptions = {
  definition: {
    openapi: '3.0.0',
    info: {
      title: 'ZEDLY API',
      version: '1.0.0',
      description: 'Educational platform API',
    },
    servers: [
      { url: 'http://localhost:3000', description: 'Development' },
      { url: 'https://api.zedly.uz', description: 'Production' },
    ],
  },
  apis: ['./src/routes/**/*.js'],
};

app.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerSpec));
```

**–í—ã–≥–æ–¥–∞:** Auto-generated docs, testable API, better onboarding

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ—Å—Ç—å:** ‚è±Ô∏è 20 —á–∞—Å–æ–≤

---

#### 6.2 Architecture Decision Records (ADRs)

```markdown
# ADR-001: Migration from JavaScript to TypeScript

## Context
Current app.js has 13,730 lines of untyped JavaScript.
IDE support is poor, runtime errors are common.

## Decision
Migrate to TypeScript with strict mode.

## Consequences
+ Better IDE support
+ Fewer runtime errors
- Initial migration cost (~40 hours)
- Build time increases

## Implementation
Phase 1: Create tsconfig.json
Phase 2: Rename .js to .ts gradually
Phase 3: Add strict types
```

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ—Å—Ç—å:** ‚è±Ô∏è 8 —á–∞—Å–æ–≤

---

## üìà –ü–†–ò–û–†–ò–¢–ò–ó–ò–†–û–í–ê–ù–ù–´–ô –ü–õ–ê–ù –†–ê–ó–í–ò–¢–ò–Ø

### üî¥ CRITICAL (–º–µ—Å—è—Ü 1-2)

| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ó–∞–¥–∞—á–∞ | –ß–∞—Å–æ–≤ | –í—ã–≥–æ–¥–∞ |
|-----------|--------|-------|--------|
| 1 | –†–∞–∑–¥–µ–ª–∏—Ç—å app.js –Ω–∞ –º–æ–¥—É–ª–∏ | 80 | -80% time to fix bugs |
| 2 | –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ TypeScript | 40 | -30% runtime errors |
| 3 | –í–∫–ª—é—á–∏—Ç—å CSP + CSRF | 15 | Security +50% |
| 4 | Unit —Ç–µ—Å—Ç—ã (core) | 40 | -50% regressions |
| 5 | Input validation middleware | 15 | XSS/SQLi prevention |
| **–ò–¢–û–ì–û** | | **190 —á–∞—Å–æ–≤** | |

---

### üü† HIGH (–º–µ—Å—è—Ü 3-4)

| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ó–∞–¥–∞—á–∞ | –ß–∞—Å–æ–≤ | –í—ã–≥–æ–¥–∞ |
|-----------|--------|-------|--------|
| 6 | Code splitting | 20 | 746KB ‚Üí 300KB bundle |
| 7 | E2E —Ç–µ—Å—Ç—ã | 40 | User workflow coverage |
| 8 | Rate limiting –≤—Å–µ—Ö endpoints | 8 | DoS protection |
| 9 | Audit logging | 30 | Compliance (GDPR) |
| 10 | API Documentation (Swagger) | 20 | Better onboarding |
| **–ò–¢–û–ì–û** | | **118 —á–∞—Å–æ–≤** | |

---

### üü° MEDIUM (–º–µ—Å—è—Ü 5-6)

| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ó–∞–¥–∞—á–∞ | –ß–∞—Å–æ–≤ | –í—ã–≥–æ–¥–∞ |
|-----------|--------|-------|--------|
| 11 | Zustand state management | 20 | Better dev tools |
| 12 | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (HTTP + IndexedDB) | 20 | -70% API calls |
| 13 | Service Worker | 15 | Offline support |
| 14 | HTTP compression | 2 | -60% bandwidth |
| 15 | Structured logging + Sentry | 15 | Error tracking |
| **–ò–¢–û–ì–û** | | **72 —á–∞—Å–∞** | |

---

### üîµ LOW (–º–µ—Å—è—Ü 7+)

- Database query optimization (–∏–Ω–¥–µ–∫—Å—ã, explain plans)
- Internationalization (i18n library)
- Performance monitoring (Web Vitals)
- Docker + CI/CD (GitHub Actions)
- Database backups + recovery testing
- Disaster recovery plan

---

## üìä –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –¢–µ–∫—É—â–µ–µ | –ü–æ—Å–ª–µ Phase 1 | –ü–æ—Å–ª–µ Phase 2 | –ü–æ—Å–ª–µ Phase 3 |
|---------|---------|---------------|---------------|---------------|
| Bundle Size | 746 KB | 600 KB | 300 KB | 250 KB |
| Time to add feature | 4 hours | 1.5 hours | 1 hour | 30 min |
| Test coverage | 0% | 10% | 40% | 60% |
| Security score | 40/100 | 60/100 | 80/100 | 95/100 |
| Dev experience | Poor | Good | Excellent | Excellent |

---

## üéØ Quick Wins (–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å –∑–∞ 1-2 —á–∞—Å–∞)

1. **–î–æ–±–∞–≤–∏—Ç—å .prettierrc –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ –∫–æ–¥–∞**
   ```json
   {
     "semi": true,
     "singleQuote": true,
     "trailingComma": "es5",
     "printWidth": 100
   }
   ```

2. **–°–æ–∑–¥–∞—Ç—å .editorconfig**
   ```ini
   root = true
   [*]
   indent_style = space
   indent_size = 2
   end_of_line = lf
   ```

3. **–î–æ–±–∞–≤–∏—Ç—å ESLint**
   ```bash
   npm install -D eslint @eslint/js
   ```

4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å API endpoints –≤ comments**
   ```typescript
   /**
    * Get class by ID
    * @param classId - UUID of the class
    * @returns {Promise<Class>} Class with students
    * @throws {404} Class not found
    */
   app.get('/api/classes/:classId', ...)
   ```

5. **–î–æ–±–∞–≤–∏—Ç—å environment variables**
   ```bash
   cp .env.example .env
   # –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
   ```

---

## ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è Code Review

- [ ] –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–µ—é—Ç docstrings
- [ ] –ù–µ—Ç console.log() –≤ production –∫–æ–¥–µ
- [ ] –í—Å–µ API calls –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –≤ try/catch
- [ ] –í—Å–µ user inputs —Å–∞–Ω–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –ù–µ—Ç hardcoded URLs (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è constants)
- [ ] –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã (–Ω–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è)
- [ ] –ù–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞
- [ ] –í—Å–µ async –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–º–µ—é—Ç timeout
- [ ] –í—Å–µ promises –∏–º–µ—é—Ç error handling

---

## üéì –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞

1. **"Clean Code" by Robert C. Martin** - —É–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
2. **"The Pragmatic Programmer"** - best practices
3. **"Testing Library" docs** - –∫–∞–∫ –ø–∏—Å–∞—Ç—å —Ö–æ—Ä–æ—à–∏–µ —Ç–µ—Å—Ç—ã
4. **"OWASP Top 10"** - security best practices
5. **"Web Performance Working Group"** - performance optimization

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –§–µ–≤—Ä–∞–ª—å 2026  
**–ê–≤—Ç–æ—Ä:** Code Analysis Agent  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ APPROVED FOR REVIEW

